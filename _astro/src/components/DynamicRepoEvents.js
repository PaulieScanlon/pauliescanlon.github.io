import{r as e,c as a,u as t,a as r}from"../../../react.v17.0.2-9a5f3b02.js";var l=function(a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},a),e.createElement("path",{fillRule:"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z",clipRule:"evenodd"}))},s=function(a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},a),e.createElement("path",{d:"M13 7H7v6h6V7z"}),e.createElement("path",{fillRule:"evenodd",d:"M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z",clipRule:"evenodd"}))},i=function(a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},a),e.createElement("path",{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 10 5.293 7.707a1 1 0 010-1.414zM11 12a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"}))},n=a((function(a,t){var r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var l=Symbol.for;r=l("react.element"),t.Fragment=l("react.fragment")}var s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,n={key:!0,ref:!0,__self:!0,__source:!0};function c(e,a,t){var l,c={},o=null,d=null;for(l in void 0!==t&&(o=""+t),void 0!==a.key&&(o=""+a.key),void 0!==a.ref&&(d=a.ref),a)i.call(a,l)&&!n.hasOwnProperty(l)&&(c[l]=a[l]);if(e&&e.defaultProps)for(l in a=e.defaultProps)void 0===c[l]&&(c[l]=a[l]);return{$$typeof:r,type:e,key:o,ref:d,props:c,_owner:s.current}}t.jsx=c,t.jsxs=c})),c=a((function(e){e.exports=n})),o=c.Fragment,d=c.jsx,h=c.jsxs;const m=({type:e,login:a,date:t,repo:r,commits:i})=>d("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:h("div",{className:"grid gap-y-2",children:[h("div",{children:[h("div",{className:"grid gap-x-2 sm:grid-cols-auto1fr",children:[d(s,{className:"h-5 w-5 text-red-400"}),h("h4",{className:"text-sm ml-1",children:[d("span",{className:"font-bold",children:"Event:"}),d("span",{className:`ml-1 p-1 rounded-lg text-xs ${e}`,children:e})]})]}),d("small",{className:"text-gray-500 font-light",children:`${new Date(t).toLocaleDateString()} @${new Date(t).toLocaleTimeString()}`})]}),h("div",{className:"grid sm:grid-cols-auto1fr items-center gap-1",children:[d("b",{children:"User:"}),h("p",{children:["@",a]})]}),h("div",{className:"grid sm:grid-cols-auto1fr items-center gap-1",children:[d("b",{children:"Repo:"}),d("a",{className:"text-xs underline break-all",href:`https://github.com/${r.name}`,target:"_blank",rel:"noreferrer",children:r.name})]}),d("div",{children:Array.isArray(i)?h(o,{children:[h("div",{className:"grid gap-x-2 grid-cols-auto1fr",children:[d(l,{className:"h-5 w-5 text-red-400"}),d("p",{children:d("b",{children:"Commits"})})]}),d("ul",{className:"list-disc list-inside pl-3",children:i.map(((e,a)=>d("li",{children:d("small",{className:"text-gray-500 font-light",children:d("a",{className:"break-all",href:`https://github.com/${r.name}/commit/${e.sha}`,target:"_blank",rel:"noreferrer",children:`message: ${e.message}`})})},a)))})]}):null})]})}),g=({textClass:e})=>d("div",{className:`mb-6 ${e}`,children:h("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),p=({username:e,repoName:a,results:l=50})=>{const[s,n]=t(!0),[c,p]=t(null),[u,v]=t(!0),[f,w]=t(null);return r((()=>{(async()=>{try{const t=await fetch("https://paulieapi.gatsbyjs.io/api/get-github-repo",{method:"POST",body:JSON.stringify({owner:e,repo:a})}),r=await t.json();w(r.repo),v(!1)}catch(e){}try{const t=await fetch("https://paulieapi.gatsbyjs.io/api/get-github-repo-events",{method:"POST",body:JSON.stringify({owner:e,repo:a,results:l})}),r=await t.json();p(r.events),n(!1)}catch(e){}})()}),[]),h("section",{className:`bg-white rounded-lg shadow-lg p-6 mb-10 ${a}-bg`,children:[u?d(g,{textClass:"text-white"}):h("div",{className:"grid sm:grid-cols-auto1fr items-center gap-2 mb-6",children:[d("img",{src:f.owner.avatar_url,alt:`${f.owner.login}-profile-image`,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full ring-white bg-white"}),h("div",{children:[d("h2",{className:`font-bold text-1xl sm:text-2xl ${a}-text`,children:f.full_name}),d("p",{className:`text-gray-500 font-light ${a}-text`,children:f.description}),d("a",{href:f.html_url,target:"_blank",rel:"noreferrer",className:`break-all ${a}-text`,children:f.html_url})]})]}),h("div",{className:"grid grid-cols-auto1fr",children:[d(i,{className:"h-5 w-5 text-white mt-0.5"}),d("h3",{className:`mb-4 pl-1 ${a}-text`,children:d("b",{children:"Dynamic Repo Events"})})]}),d("article",{className:"bg-secondary rounded-lg shadow-inner py-0.5",children:d("div",{className:"p-2 sm:p-6 overflow-y-auto overflow-x-hidden h-96",children:s?d(g,{textClass:"text-black"}):d(o,{children:c.map(((e,a)=>{const{type:t,actor:r,created_at:l,repo:s,payload:i}=e;return d(m,{type:t,date:l,login:r.login,repo:s,commits:i.commits},a)}))})})})]})};export{p as default};
